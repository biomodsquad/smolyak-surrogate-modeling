import numpy

from .benchmark import BenchmarkFunction

class yfit(BenchmarkFunction):
    @property
    def domain(self):
        return [[-9.9978786299, 10.0021213701],
                [-10.0035439984, 9.9964560016], [0, 10010]]

    @property
    def global_minimum(self):
        return 0.2361273466
    
    @property
    def global_minimum_location(self):
        return [0.0021213701, -0.0035439984, 10000]

    def _function(self, x):
        return (
            (-21.158931 + numpy.arctan(x[..., 0]) * x[..., 2])
            * (-21.158931 + numpy.arctan(x[..., 0]) * x[..., 2])
            + (
                -17.591719
                + numpy.arctan(0.9375 * x[..., 0] + 0.0625 * x[..., 1]) * x[..., 2]
            )
            * (
                -17.591719
                + numpy.arctan(0.9375 * x[..., 0] + 0.0625 * x[..., 1]) * x[..., 2]
            )
            + (
                -14.046854
                + numpy.arctan(0.875 * x[..., 0] + 0.125 * x[..., 1]) * x[..., 2]
            )
            * (
                -14.046854
                + numpy.arctan(0.875 * x[..., 0] + 0.125 * x[..., 1]) * x[..., 2]
            )
            + (
                -10.519732
                + numpy.arctan(0.8125 * x[..., 0] + 0.1875 * x[..., 1]) * x[..., 2]
            )
            * (
                -10.519732
                + numpy.arctan(0.8125 * x[..., 0] + 0.1875 * x[..., 1]) * x[..., 2]
            )
            + (
                -7.0058392
                + numpy.arctan(0.75 * x[..., 0] + 0.25 * x[..., 1]) * x[..., 2]
            )
            * (
                -7.0058392
                + numpy.arctan(0.75 * x[..., 0] + 0.25 * x[..., 1]) * x[..., 2]
            )
            + (
                -3.5007293
                + numpy.arctan(0.6875 * x[..., 0] + 0.3125 * x[..., 1]) * x[..., 2]
            )
            * (
                -3.5007293
                + numpy.arctan(0.6875 * x[..., 0] + 0.3125 * x[..., 1]) * x[..., 2]
            )
            + numpy.arctan(0.625 * x[..., 0] + 0.375 * x[..., 1])
            * x[..., 2]
            * numpy.arctan(0.625 * x[..., 0] + 0.375 * x[..., 1])
            * x[..., 2]
            + (
                3.5007293
                + numpy.arctan(0.5625 * x[..., 0] + 0.4375 * x[..., 1]) * x[..., 2]
            )
            * (
                3.5007293
                + numpy.arctan(0.5625 * x[..., 0] + 0.4375 * x[..., 1]) * x[..., 2]
            )
            + (7.0058392 + numpy.arctan(0.5 * x[..., 0] + 0.5 * x[..., 1]) * x[..., 2])
            * (7.0058392 + numpy.arctan(0.5 * x[..., 0] + 0.5 * x[..., 1]) * x[..., 2])
            + (
                10.519732
                + numpy.arctan(0.4375 * x[..., 0] + 0.5625 * x[..., 1]) * x[..., 2]
            )
            * (
                10.519732
                + numpy.arctan(0.4375 * x[..., 0] + 0.5625 * x[..., 1]) * x[..., 2]
            )
            + (
                14.046854
                + numpy.arctan(0.375 * x[..., 0] + 0.625 * x[..., 1]) * x[..., 2]
            )
            * (
                14.046854
                + numpy.arctan(0.375 * x[..., 0] + 0.625 * x[..., 1]) * x[..., 2]
            )
            + (
                17.591719
                + numpy.arctan(0.3125 * x[..., 0] + 0.6875 * x[..., 1]) * x[..., 2]
            )
            * (
                17.591719
                + numpy.arctan(0.3125 * x[..., 0] + 0.6875 * x[..., 1]) * x[..., 2]
            )
            + (
                21.158931
                + numpy.arctan(0.25 * x[..., 0] + 0.75 * x[..., 1]) * x[..., 2]
            )
            * (
                21.158931
                + numpy.arctan(0.25 * x[..., 0] + 0.75 * x[..., 1]) * x[..., 2]
            )
            + (
                24.753206
                + numpy.arctan(0.1875 * x[..., 0] + 0.8125 * x[..., 1]) * x[..., 2]
            )
            * (
                24.753206
                + numpy.arctan(0.1875 * x[..., 0] + 0.8125 * x[..., 1]) * x[..., 2]
            )
            + (
                28.379405
                + numpy.arctan(0.125 * x[..., 0] + 0.875 * x[..., 1]) * x[..., 2]
            )
            * (
                28.379405
                + numpy.arctan(0.125 * x[..., 0] + 0.875 * x[..., 1]) * x[..., 2]
            )
            + (
                32.042552
                + numpy.arctan(0.0625 * x[..., 0] + 0.9375 * x[..., 1]) * x[..., 2]
            )
            * (
                32.042552
                + numpy.arctan(0.0625 * x[..., 0] + 0.9375 * x[..., 1]) * x[..., 2]
            )
            + (35.747869 + numpy.arctan(x[..., 1]) * x[..., 2])
            * (35.747869 + numpy.arctan(x[..., 1]) * x[..., 2])
        )
